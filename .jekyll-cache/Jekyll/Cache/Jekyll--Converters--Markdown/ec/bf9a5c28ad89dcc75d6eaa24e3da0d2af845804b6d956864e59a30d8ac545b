I"õ<h2 id="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</h2>

<p>å•å…ƒæµ‹è¯•çš„è‹±æ–‡æ˜¯Unit Testing,ç‰¹æŒ‡åœ¨ä¸€ä¸ªåˆ†éš”çš„ä»£ç å•å…ƒä¸­è¿›è¡Œçš„æµ‹è¯•ï¼Œä¸€ä¸ªå•å…ƒå¯ä»¥æ˜¯æ•´ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªå•ç‹¬çš„ç±»æˆ–è€…å‡½æ•°ã€‚</p>

<p>ç¼–å†™å•å…ƒæµ‹è¯•çš„ä»£ç å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æ—©æœŸå¿«é€Ÿæ‰¾åˆ°bugï¼Œä»¥è¾ƒå°çš„ä»£ä»·åœ¨æ—©æœŸæ‰¾åˆ°bugã€‚</p>

<h2 id="è¢«æµ‹å‡½æ•°">è¢«æµ‹å‡½æ•°</h2>

<p>æˆ‘ä»¬å…ˆç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œåˆ¤æ–­è¾“å…¥æ•°æ®æ˜¯å¦æ˜¯ç´ æ•°ï¼Œå¹¶ä¸”å¯ä»¥åˆ¤æ–­è·ç¦»è¿™ä¸ªæ•°æœ€è¿‘çš„ç´ æ•°ã€‚</p>

<pre><code class="language-python">.
# Author: chenjunllin
# Date: 2022-03-16 
# File: is_prime.py


def is_prime(number):
    """å¦‚æœæ˜¯è´¨æ•°ï¼Œè¿”å›ä¸ºTrue"""
    for element in range(2, number):
        if number % element == 0:
            return False
    return True


def print_next_prime(number):
    """æ‰“å°è¾“å…¥numberæ•°å­—æœ€è¿‘çš„è´¨æ•°"""
    index = number
    while True:
        index += 1
        if is_prime(index):
            print(index)
</code></pre>

<h2 id="æµ‹è¯•is_primeå‡½æ•°">æµ‹è¯•is_primeå‡½æ•°</h2>

<p>ä½¿ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)çš„æ–¹æ³•ï¼Œç¼–å†™çš„æœ€ç®€å•çš„æµ‹è¯•ä»£ç æµ‹è¯•is_primeå‡½æ•°æ˜¯å¦å®ç°äº†åŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-python">
# Author: chenjunlin
# Date: 2023-03-16
# File: test_is_prime.py

import pytest

from src.chapter7unit.method_examples.is_prime import is_prime


class TestPrimes(object):
    """æµ‹è¯•is_prime"""

    def test_is_zero_not_prime(self):
        """æµ‹è¯•è¾¹ç•Œå€¼0æ˜¯ä¸æ˜¯è´¨æ•°"""
        assert is_prime(0) is False

    def test_is_one_not_prime(self):
        """æµ‹è¯•è¾¹ç•Œå€¼1æ˜¯ä¸æ˜¯è´¨æ•°"""
        assert is_prime(1) is False

    def test_is_two_prime(self):
        """2æ˜¯è´¨æ•°"""
        assert is_prime(2) is True

    def test_is_four_non_prime(self):
        """4ä¸æ˜¯è´¨æ•°"""
        assert is_prime(4) is False

    def test_is_five_prime(self):
        """5æ˜¯ä¸æ˜¯è´¨æ•°ï¼Ÿ"""
        assert is_prime(5) is True


if __name__ == '__main__':
    pytest.main()

</code></pre>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ0å’Œ1ä¸æ˜¯ç´ æ•°ï¼Œä½†æ˜¯å‡½æ•°è¿”å›çš„ç»“æœæ˜¯1ï¼Œè¯´æ˜is_primeå‡½æ•°æ²¡æœ‰å®ç°åŠŸèƒ½ã€‚
<img src="https://cdn.jsdelivr.net/gh/ChanJeunlam/PicgoBed/blogs/pictures/20230316105600.png" alt="20230316105600" /></p>

<p>å›åˆ°åŸæ¥çš„å‡½æ•°ï¼Œå‘ç°æ˜¯å› ä¸ºrangeå‡½æ•°çš„èŒƒå›´æ˜¯ä»2åˆ°numberï¼Œæ‰€ä»¥0å’Œ1éƒ½æ²¡æœ‰è¢«åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>

<pre><code class="language-python">def is_prime(number):
    """å¦‚æœæ˜¯è´¨æ•°ï¼Œè¿”å›ä¸ºTrue"""
    if number &lt; 2:
        return False
    for element in range(2, number):
        if number % element == 0:
            return False
    return True
</code></pre>

<p>å†æ¬¡è¿è¡Œtest_is_prime.pyæµ‹è¯•ä»£ç ï¼Œå‘ç°æµ‹è¯•é€šè¿‡äº†ã€‚</p>

<p><img src="https://cdn.jsdelivr.net/gh/ChanJeunlam/PicgoBed/blogs/pictures/20230316105849.png" alt="20230316105849" /></p>

<h2 id="æµ‹è¯•print_next_primeå‡½æ•°">æµ‹è¯•print_next_primeå‡½æ•°</h2>

<p>æˆ‘ä»¬å†æ¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•å‡½æ•°ï¼Œæµ‹è¯•print_next_primeå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-python"># Author: chenjunlin
# Date: 2023-03-16
# File: test_print_is_prime.py

import pytest

from src.chapter7unit.method_examples.is_prime import print_next_prime

class TestPrimes(object):
    """æµ‹è¯•print_next_prime"""

    def test_print_next_prime_0(self):
        """ 0çš„æœ€è¿‘è´¨æ•°æ˜¯2 """
        assert print_next_prime(0) is 2

    def test_print_next_prime_4(self):
        """ 4çš„æœ€è¿‘è´¨æ•°æ˜¯5 """
        assert print_next_prime(4) is 5

    def test_print_next_prime_5(self):
        """ 5çš„æœ€è¿‘è´¨æ•°æ˜¯7 """
        assert print_next_prime(5) is 7

    def test_print_next_prime_7(self):
        """ 7çš„æœ€è¿‘è´¨æ•°æ˜¯11 """
        assert print_next_prime(7) is 11


if __name__ == '__main__':
    pytest.main()
</code></pre>

<p>æ²¡æœ‰é€šè¿‡æµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>

<p><img src="./image/2023-03-16-åˆ¤æ–­æ˜¯å¦æ—¶ç´ æ•°å‡½æ•°çš„å•å…ƒæµ‹è¯•/1678936036418.png" alt="1678936036418" /></p>

<p>åŸæ¥æ˜¯å› ä¸ºprint_next_primeå‡½æ•°è¿”å›ç»“æœå¹¶ä¸æ˜¯è·ç¦»è¾“å…¥æ•°å­—æœ€è¿‘çš„ç´ æ•°ï¼Œè€Œæ˜¯è¿”å›äº†æ‰€æœ‰å¤§äºè¾“å…¥æ•°å­—çš„ç´ æ•°ï¼Œæ‰€ä»¥åœ¨running testsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ç›´åœ¨æ‰“è½¬ï¼Œæ²¡æœ‰è¿”å›assertæ–­è¨€çš„ç»“æœã€‚</p>

<p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åœ¨is_prime.pyä¸­æ·»åŠ é­”æœ¯æ–¹æ³•__name__ == â€˜<strong>main</strong>â€˜æ¥æµ‹è¯•print_next_primeå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="language-python">if __name__ == '__main__':

    print(is_prime(2))
    print_next_prime(0)

</code></pre>

<p>å‘ç°ç»“æœç¡®å®æ˜¯æ‰“å°äº†æ‰€æœ‰å¤§äºè¾“å…¥æ•°å­—çš„ç´ æ•°ï¼š</p>

<p><img src="./image/2023-03-16-åˆ¤æ–­æ˜¯å¦æ—¶ç´ æ•°å‡½æ•°çš„å•å…ƒæµ‹è¯•/1678936579647.png" alt="1678936579647" /></p>

<p>æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>

<pre><code class="language-python">def print_next_prime2(number):
    """æ‰“å°è¾“å…¥numberæ•°å­—æœ€è¿‘çš„è´¨æ•°"""
    index = number
    while True:
        index += 1
        if is_prime(index):
            return index
</code></pre>

<p>å†æ¬¡è¿è¡Œæµ‹è¯•ä»£ç ï¼Œå‘ç°æµ‹è¯•é€šè¿‡äº†ã€‚</p>

:ET
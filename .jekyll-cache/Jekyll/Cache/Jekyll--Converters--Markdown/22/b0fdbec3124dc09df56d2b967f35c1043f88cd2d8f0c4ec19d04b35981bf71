I"™<h1 id="å­—ç¬¦ä¸²è½¬æ¢æ¯ä¸ªç±»éƒ½éœ€è¦__repr__">å­—ç¬¦ä¸²è½¬æ¢ï¼ˆæ¯ä¸ªç±»éƒ½éœ€è¦__repr__ï¼‰</h1>

<p>åœ¨ Python ä¸­å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»ä¹‹åï¼Œå¦‚æœå°è¯•åœ¨æ§åˆ¶å°ä¸­è¾“å‡ºå…¶å®ä¾‹æˆ–åœ¨è§£é‡Šå™¨ä¼šè¯ä¸­æŸ¥çœ‹ï¼Œå¹¶ä¸èƒ½å¾—åˆ°ååˆ†ä»¤äººæ»¡æ„çš„ç»“æœã€‚é»˜è®¤çš„â€œè½¬æ¢æˆå­—ç¬¦ä¸²â€åŠŸèƒ½éå¸¸åŸå§‹ï¼Œç¼ºå°‘ç»†èŠ‚ï¼š</p>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
Person_Bob = Person('Bob', 35)
print(Person_Bob)
</code></pre>

<p>è¾“å‡ºç»“æœï¼š</p>

<pre><code class="language-console">&lt;__main__.Person object at 0x0000015BC9246640&gt;
</code></pre>

<p>å¯ä»¥çœ‹åˆ°ï¼Œprintåªæ˜¾ç¤ºç±»åå’Œå¯¹è±¡å®ä¾‹idçš„å­—ç¬¦ä¸²ï¼ˆè¿™æ˜¯CPythonä¸­å¯¹è±¡çš„å†…å­˜åœ°å€ï¼‰ã€‚</p>

<p>å¦‚ä½•æŸ¥çœ‹å…·ä½“çš„å†…å®¹ï¼Ÿ</p>

<ol>
  <li>ç›´æ¥æ‰“å°ç±»çš„å±æ€§</li>
  <li>å‘ç±»ä¸­åŠ å…¥è‡ªå®šä¹‰çš„to_string()æ–¹æ³•æ¥ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚</li>
</ol>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    def to_string(self):
        return f'Person(name={self.name}, age={self.age})'
Person_Bob = Person('Bob', 35)
print(Person_Bob.to_string())
</code></pre>

<p>è¾“å‡ºç»“æœï¼š</p>

<pre><code class="language-console">Person(name=Bob, age=35)
</code></pre>

<p>ä½†æ˜¯ï¼Œè¿™æ ·åšæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ‰“å°ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªä¸€ä¸ªåœ°è°ƒç”¨to_string()æ–¹æ³•ã€‚è¿™æ ·åšæ˜¾ç„¶ä¸å¤Ÿä¼˜é›…ã€‚</p>

<p>æˆ–è€…ï¼Œç›´æ¥æ‰“å°ç±»çš„å±æ€§ï¼Œè¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ï¼š</p>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
Person_Bob = Person('Bob', 35)
print(Person_Bob.name)
print(Person_Bob.age)
</code></pre>

<p>å¯ä»¥å‘ç±»ä¸­æ·»åŠ åŒä¸‹åˆ’çº¿æ–¹__str__å’Œ__repr__ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ä»¥å…·æœ‰ Python ç‰¹è‰²çš„æ–¹å¼åœ¨ä¸åŒæƒ…å†µä¸‹å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>

<pre><code class="language-python">class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    def __str__(self):
        return f'Person(name={self.name}, age={self.age})'

Person_Bob = Person('Bob', 35)
print(Person_Bob)
Person_Bob

</code></pre>

<p>è¾“å‡ºç»“æœï¼š</p>

<pre><code class="language-console">Person(name=Bob, age=35)
Out[6]: &lt;__main__.Person at 0x15bc9249250&gt;
</code></pre>

<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹ Car å¯¹è±¡å¾—åˆ°çš„ä¾ç„¶æ˜¯ä¹‹å‰åŒ…å«å¯¹è±¡ id çš„ç»“æœï¼Œä½†æ˜¯æ‰“å°å¯¹è±¡å°±ä¼šå¾—åˆ°ç”±æ–°æ·»åŠ çš„__str__æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ã€‚</p>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè€Œä¸å¿…æ‹…å¿ƒå¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ï¼š</p>

<pre><code class="language-python">f'{Person_Bob}'
'{0}'.format(Person_Bob)
</code></pre>

<h2 id="__repr__å’Œ__str__çš„åŒºåˆ«">__repr__å’Œ__str__çš„åŒºåˆ«</h2>

<p>__repr__å’Œ__str__çš„åŒºåˆ«åœ¨äºï¼Œ__str__æ˜¯é¢å‘ç”¨æˆ·çš„ï¼Œè€Œ__repr__æ˜¯é¢å‘å¼€å‘è€…çš„ã€‚__repr__çš„ç›®çš„æ˜¯ä¸ºäº†è®©å¼€å‘è€…èƒ½å¤Ÿæ›´å®¹æ˜“åœ°ç†è§£å¯¹è±¡çš„å†…å®¹ï¼Œè€Œ__str__çš„ç›®çš„æ˜¯ä¸ºäº†è®©ç”¨æˆ·èƒ½å¤Ÿæ›´å®¹æ˜“åœ°ç†è§£å¯¹è±¡çš„å†…å®¹ã€‚</p>

<p>æˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰äº†__str__æ–¹æ³•ï¼Œåœ¨è§£é‡Šå™¨ä¼šè¯ä¸­æŸ¥çœ‹Person_Bobå¯¹è±¡æ—¶ï¼Œè¿”å›ç»“æœä¾ç„¶æ˜¯&lt;<strong>main</strong>.Person at 0x15bc9249250&gt;ã€‚è¿™æ˜¯å› ä¸ºè§£é‡Šå™¨ä¼šè¯ä¸­çš„å¯¹è±¡æ˜¯__repr__æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯__str__æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ã€‚</p>

<pre><code class="language-python">class Car:
    def __init__(self,color,mileage):
        self.color = color
        self.mileage = mileage
    def __str__(self):
        return f'a {self.color} car'
    def __repr__(self):
        return f'Car(color={self.color}, mileage={self.mileage})'
my_car = Car('red', 37281)
my_car # åœ¨è§£é‡Šå™¨ä¼šè¯ä¸­æŸ¥çœ‹å¯¹è±¡,è¿”å›çš„æ˜¯__repr__æ–¹æ³•çš„ç»“æœ
# Out[8]: Car(color=red, mileage=37281)
print(my_car) # åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹å¯¹è±¡,è¿”å›çš„æ˜¯__str__æ–¹æ³•çš„ç»“æœ
# a red car
'{0}'.format(my_car) # ä½¿ç”¨formatå‡½æ•°,è¿”å›çš„æ˜¯__str__æ–¹æ³•çš„ç»“æœ
# a red car
</code></pre>

<p>ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨ Python è§£é‡Šå™¨ä¼šè¯ä¸­æŸ¥çœ‹å¯¹è±¡å¾—åˆ°çš„æ˜¯å¯¹è±¡çš„__repr__ç»“æœã€‚</p>

<h1 id="æ¥æº">æ¥æº</h1>

<p>ã€Šæ·±å…¥ç†è§£Pythonç‰¹æ€§ã€‹P051 - P0</p>
:ET